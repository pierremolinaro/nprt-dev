%!TEX encoding = UTF-8 Unicode
%!TEX root = ../livre-can.tex


\chapterLabel{Calcul du bit}{chapitreCalculBit}

%--- Pour supprimer tout en-tête et pied de page sur la 1re page d'un chapitre
\thispagestyle{empty}


Une horloge de fréquence $f_{CAN}$ conduit le module CAN.

Un prédiviseur $D$, souvent nommé « \emph{Baud Rate Prescaler} », divise cette fréquence pour obtenir le « \emph{Time Quantum} » $T_Q$ ; la spécification CAN précise que l'intervalle des valeurs possibles doit s'étendre au moins de $1$ à $32$. Ainsi :

\begin{equation*}
  T_Q = \frac{D}{f_{CAN}}
\end{equation*}

La spécification CAN\cite{canSpecifBosch} indique qu'un bit se décompose en quatre champs :
\begin{itemize}
  \item le champ \texttt{SYNC\_SEG}, d'une durée de $1\times T_Q$ ;
  \item le champ \texttt{PROP\_SEG}, d'une durée programmable de $1\times T_Q$ à $8\times T_Q$ ;
  \item le champ \texttt{PHASE\_SEG1}, d'une durée programmable de $1\times T_Q$ à $8\times T_Q$ ;
  \item le champ \texttt{PHASE\_SEG2}, dont la durée est le maximum entre \texttt{PHASE\_SEG1} et le « \emph{Information Processing Time} » ;
  \item le « \emph{Information Processing Time} » dont la durée est inférieure ou égale à $2\times T_Q$.
\end{itemize}

Donc :
\begin{equation*}
  T_{BIT} = B \times T_Q\text{, avec~} 4 \leqslant B \leqslant 25
\end{equation*}



%  \item l'intervalle des valeurs programmables de $B$ est différent : a décomposition d'un bit est décrite par trois champs, le premier d'une durée fixe de $3\times T_Q$, le deuxième d'une durée programmable entre $1\times T_Q$ à $16\times T_Q$, et le dernier d'une durée programmable entre $1\times T_Q$ à $8\times T_Q$ ; donc $5 \leqslant B \leqslant 27$.

