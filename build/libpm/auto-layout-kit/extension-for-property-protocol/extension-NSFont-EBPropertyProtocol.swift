//--------------------------------------------------------------------------------------------------
//  THIS FILE IS GENERATED BY EASY BINDINGS, DO NOT MODIFY IT
//--------------------------------------------------------------------------------------------------

import AppKit

//--------------------------------------------------------------------------------------------------
//    extension NSFont : EBStoredPropertyProtocol
//--------------------------------------------------------------------------------------------------

extension NSFont : EBStoredPropertyProtocol, @unchecked @retroactive Sendable {

  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

  public func ebHashValue () -> UInt32 {
    let s = self.archiveToString ()
    return s.ebHashValue ()
  }

  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

  public func convertToNSObject () -> NSObject {
    let s = self.archiveToString ()
    return s as NSString
  }

  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

  public static func convertFromNSObject (object : NSObject) -> Self {
    let string = object as! String
    return Self.unarchiveFromString (string: string) as! Self
  }

  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

  func archiveToString () -> String {
    let s = "\(self.displayName!):\(self.pointSize)"
    return s
  }

  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

  static func unarchiveFromString (string : String) -> NSObject? {
    let components = string.components (separatedBy: ":")
    if components.count == 2, let fontSize = Double (components [1]) {
      let fontName = components [0]
      let fs = CGFloat (fontSize)
      if let font = NSFont (name: fontName, size: fs) {
        return font
      }else{
        return NSFont.systemFont (ofSize: fs)
      }
    }else{
      return nil
    }
  }

  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

  public func appendPropertyValueTo (_ ioData : inout Data) {
    ioData.append (self.archiveToString ().data (using: .utf8)!)
  }

  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

  public static func unarchiveFromDataRange (_ inData: Data, _ inRange: NSRange) -> Self? {
    let dataSlice = inData [inRange.location ..< inRange.location + inRange.length]
    if let s = String (data: dataSlice, encoding: .utf8) {
      return Self.unarchiveFromString (string: s) as? Self
    }else{
      return nil
    }
  }

  // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

}

//--------------------------------------------------------------------------------------------------
